<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Wheels - 4-Wheeler Search</title>
    <link rel="stylesheet" href="uw_style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

</head>

<body>
    <header>
        <nav>
            <a href="uw_home.html" class="logo">URBAN<span>WHEELS</span></a>
            <div class="navbar" id="navbar">
                <div class="menu">
                    <a href="uw_home.html">HOME</a>
                    <div class="book-dropdown-container">
                        <div class="book-dropdown">
                            <button class="book-dropdown-btn" id="book-dropdown-trigger">BOOK RIDES</button>
                        </div>
                        <div class="book-dropdown-content">
                            <a href="uw_2-wheeler.html">2-wheelers</a>
                            <a href="uw_4-wheeler.html">4-wheelers</a>
                        </div>
                    </div>
                    <a href="uw_contact.html">CONTACT</a>
                </div>
                <div class="enroll" id="before-login" style="display: none;"> <!-- flex or none -->
                    <a href="/uw_login">LOGIN</a> <!--  /uw_login -->
                    <a href="/uw_signup">SIGNUP</a> <!--  /uw_signup -->
                </div>
                <div class="profile" id="after-login" style="display: none;"> <!-- flex or none -->
                    <i class="fa fa-user-circle dropdown" id="profile-icon"></i>
                    <span class="dropdown" id="dropdown-trigger">
                        <p id="welcome-message"></p>
                        <div class="dropdown-content" id="dropdown-menu">
                            <a href="/profile">Profile</a>
                            <a href="/update-profile">Update Profile</a>
                            <a href="/logout"> Logout</a>
                        </div>
                    </span>
                </div>
            </div>
        </nav>
    </header>

    <section class="search-section">
        <div>
            <h5>LOCATION</h5>
            <input type="text" placeholder="Search your location" id="location">
        </div>
        <div>
            <h5>VEHICLE TYPE</h5>
            <select id="vehicle-type">
                <option value="2-wheeler">2-Wheeler</option>
                <option value="4-wheeler" selected>4-Wheeler</option>
            </select>
        </div>
        <div>
            <h5>PICKUP DATE</h5>
            <input type="datetime-local" name="" id="">
        </div>
        <div>
            <h5>RETURN DATE</h5>
            <input type="datetime-local" name="" id="">
        </div>
        <div>
            <button id="search-button">Search</button>
        </div>

    </section>

    <section class="filter-vehicle-section">
        <aside class="filter-container">
            <div class="filter-title">FILTER</div>
            <div class="filter-group">
                <div class="filter-header" onclick="toggleDropdown('car-type', this)">Car Type <i
                        class="fa fa-chevron-right"></i></div>
                <div class="filter-options" id="car-type">
                    <label><input type="checkbox" class="check-uncheck"> Sedan</label>
                    <label><input type="checkbox" class="check-uncheck"> Hatchback</label>
                    <label><input type="checkbox" class="check-uncheck"> SUV</label>
                    <label><input type="checkbox" class="check-uncheck"> Luxury</label>
                    <label><input type="checkbox" class="check-uncheck"> Sports</label>
                </div>
            </div>
            <div class="filter-group">
                <div class="filter-header" onclick="toggleDropdown('fuel-type', this)">Fuel Type <i
                        class="fa fa-chevron-right"></i></div>
                <div class="filter-options" id="fuel-type">
                    <label><input type="checkbox" class="check-uncheck"> Petrol</label>
                    <label><input type="checkbox" class="check-uncheck"> Diesel</label>
                    <label><input type="checkbox" class="check-uncheck"> Electric</label>
                </div>
            </div>
            <div class="filter-group">
                <div class="filter-header" onclick="toggleDropdown('transmission', this)">Transmission <i
                        class="fa fa-chevron-right"></i></div>
                <div class="filter-options" id="transmission">
                    <label><input type="checkbox" class="check-uncheck"> Automatic</label>
                    <label><input type="checkbox" class="check-uncheck"> Manual</label>
                </div>
            </div>
            <div class="filter-group">
                <div class="filter-header" onclick="toggleDropdown('ratings', this)">Ratings <i
                        class="fa fa-chevron-right"></i></div>
                <div class="filter-options" id="ratings">
                    <label><input type="checkbox" class="check-uncheck"> 4 & above</label>
                    <label><input type="checkbox" class="check-uncheck"> 3 & above</label>
                    <label><input type="checkbox" class="check-uncheck"> 2 & above</label>
                    <label><input type="checkbox" class="check-uncheck"> 1 & above</label>
                </div>
            </div>
            <input type="reset" value="Reset" class="reset-btn" onclick="uncheckAll()">
            <input type="submit" value="Apply" class="apply-btn">
        </aside>
        <div class="vehicle-showcase">
            <div class="vehicle-card">
                <img src="uw_img/rent-car-1.jpg" alt="Suzuki Swift">
                <div class="vehicle-details">
                    <h3>Suzuki<br><span>Swift</span></h3><br>
                    <div class="rating-trips">
                        <span><i class="fa fa-star"></i> 4.69</span>
                        <span><i class="fa fa-road"></i> 5 trips</span>
                    </div>
                    <hr>
                    <div class="price">₹160/hr</div>
                </div>
            </div>
            <div class="vehicle-card">
                <img src="uw_img/rent-car-2.jpg" alt="Tata Nexon">
                <div class="vehicle-details">
                    <h3>Tata<br><span>Nexon</span></h3><br>
                    <div class="rating-trips">
                        <span><i class="fa fa-star"></i> 4.69</span>
                        <span><i class="fa fa-road"></i> 6 trips</span>
                    </div>
                    <hr>
                    <div class="price">₹196/hr</div>
                </div>
            </div>
            <div class="vehicle-card">
                <img src="uw_img/rent-car-3.jpg" alt="Hyundai Creta">
                <div class="vehicle-details">
                    <h3>Hyundai<br><span>Creta</span></h3><br>
                    <div class="rating-trips">
                        <span><i class="fa fa-star"></i> 4.21</span>
                        <span><i class="fa fa-road"></i> 7 trips</span>
                    </div>
                    <hr>
                    <div class="price">₹216/hr</div>
                </div>
            </div>
            <div class="vehicle-card">
                <img src="uw_img/rent-car-4.jpg" alt="Volkswagen Polo">
                <div class="vehicle-details">
                    <h3>Volkswagen<br><span>Polo</span></h3><br>
                    <div class="rating-trips">
                        <span><i class="fa fa-star"></i> 4.46</span>
                        <span><i class="fa fa-road"></i> 16 trips</span>
                    </div>
                    <hr>
                    <div class="price">₹84/hr</div>
                </div>
            </div>
            <div class="vehicle-card">
                <img src="uw_img/rent-car-5.jpg" alt="Mercedes-Benz C-Class">
                <div class="vehicle-details">
                    <h3>Mercedes-Benz<br><span>C-Class</span></h3><br>
                    <div class="rating-trips">
                        <span><i class="fa fa-star"></i> 4.69</span>
                        <span><i class="fa fa-road"></i> 5 trips</span>
                    </div>
                    <hr>
                    <div class="price">₹94/hr</div>
                </div>
            </div>
            <!-- Add more vehicle cards as needed -->
        </div>
    </section>

    <section class="footer">
        <div class="us">
            <div class="social-media">
                <h4>Follow Us On</h4>
                <div class="icons">
                    <i class="fa fa-facebook"></i>
                    <i class="fa fa-linkedin"></i>
                    <i class="fa fa-instagram"></i>
                    <i class="fa fa-twitter"></i>
                </div>
            </div>
            <div class="social-media">
                <h4>Available in</h4>
                <div class="icons">
                    <i class="fa fa-android"></i>
                    <i class="fa fa-apple"></i>
                    <i class="fa fa-windows"></i>
                </div>
            </div>
        </div>
        <div class="web-info">
            <div>Copyright <i class="fa fa-copyright"></i> Urban Wheels | Privacy Policy</div>
            <div>Website Developed with <i class="fa fa-heart-o"></i> By Philemon T Joseph 2262242</div>
        </div>
    </section>


    <script>
        function toggleDropdown(id, element) {
            var dropdown = document.getElementById(id);
            var icon = element.querySelector('i');

            if (dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
                icon.classList.remove('fa-chevron-down');
                icon.classList.add('fa-chevron-right');
            } else {
                dropdown.classList.add('show');
                icon.classList.remove('fa-chevron-right');
                icon.classList.add('fa-chevron-down');
            }
        }

        function uncheckAll() {
            let inputs = document.querySelectorAll('.check-uncheck');
            for (let i = 0; i < inputs.length; i++) {
                inputs[i].checked = false;
            }
        }
    </script>
    <script>
        document.addEventListener('click', function(event) {
            var dropdown = document.getElementById('dropdown-menu');
            var trigger = document.getElementById('dropdown-trigger');
            var icon = document.getElementById('profile-icon');
            
            if (trigger.contains(event.target) || icon.contains(event.target)) {
                // Toggle dropdown visibility
                dropdown.classList.toggle('show');
            } else {
                // Close the dropdown if clicked outside
                dropdown.classList.remove('show');
            }
        });
        
    </script>
    <script>
        // Fetch session details from the server to check if the user is logged in
        window.onload = function() {
            fetch('/session-info')
                .then(response => response.json())
                .then(data => {
                    if (data.loggedin) {
                        // User is logged in, show profile options
                        document.getElementById('before-login').style.display = 'none';
                        document.getElementById('after-login').style.display = 'flex';
                        document.getElementById('welcome-message').textContent = `Welcome, ${data.name}!`;

                        // Show profile menu when the profile icon is clicked
                        /*document.getElementById('profile-icon').addEventListener('click', function() {
                            const menu = document.getElementById('profile-menu');
                            menu.style.display = menu.style.display === 'inline' ? 'none' : 'inline';
                        });*/
                    } else {
                        // User is not logged in, show login/signup options
                        document.getElementById('before-login').style.display = 'flex';
                        document.getElementById('after-login').style.display = 'none';
                        document.getElementById('welcome-message').textContent = '';
                    }
                })
                .catch(error => console.error('Error:', error));
        };
    </script>
</body>

</html>